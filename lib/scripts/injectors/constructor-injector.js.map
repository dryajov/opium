{"version":3,"sources":["scripts/injectors/constructor-injector.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;wBAIqB,aAAa;;;;;;;;;;;IAQb,mBAAmB;cAAnB,mBAAmB;;aAAnB,mBAAmB;8BAAnB,mBAAmB;;mCAAnB,mBAAmB;;;iBAAnB,mBAAmB;;;;;;;;;eAQ9B,gBAAC,GAAG,EAAE;AACR,gBAAI,OAAO,8BATE,mBAAmB,wCASL,GAAG,CAAC,CAAC;AAChC,gBAAI,IAAI,GAAG,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC;uBAAK,CAAC,CAAC,QAAQ;aAAA,CAAC,GAAG,IAAI,CAAC;;AAE3D,gBAAI,GAAG,CAAC,IAAI,EAAE;AACV,oBAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC;aAC5C;;;AAGD,mBAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;SACvC;;;eAEO,kBAAC,KAAK,EAAE,IAAI,EAAE;;AAElB,mBAAO,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACzC;;;WAvBgB,mBAAmB;;;qBAAnB,mBAAmB","file":"scripts/injectors/constructor-injector.js","sourcesContent":["/**\n * Created by dmitriy.ryajov on 6/27/15.\n */\n\nimport Injector from '../injector';\n\n/**\n * This class will perform constructor injection, by instantiating\n * the passed in dependency and passing in its deps as constructor\n * arguments. Dependency is expected to be a constructor function,\n * or an ES6+ class.\n */\nexport default class ConstructorInjector extends Injector {\n\n    /**\n     * Inject the dependency by calling class Reflect.construct(dependency, arguments)\n     *\n     * @param dep\n     * @returns {*}\n     */\n    inject(dep) {\n        let allDeps = super.inject(dep);\n        let args = allDeps ? allDeps.map((d) => d.injected) : null;\n\n        if (dep.args) {\n            args = args.concat(dep.args) || dep.args;\n        }\n\n        // inject as constructor params\n        return this._newCall(dep.dep, args);\n    }\n\n    _newCall(Clazz, args) {\n        /*jshint -W058 */\n        return Reflect.construct(Clazz, args);\n    }\n}\n"],"sourceRoot":"/source/"}