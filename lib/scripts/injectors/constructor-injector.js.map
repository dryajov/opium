{"version":3,"sources":["scripts/injectors/constructor-injector.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;wBAIqB,aAAa;;;;;;;;;;;IAQb,mBAAmB;YAAnB,mBAAmB;;WAAnB,mBAAmB;0BAAnB,mBAAmB;;+BAAnB,mBAAmB;;;eAAnB,mBAAmB;;;;;;;;;WAQhC,gBAAC,GAAG,EAAE;AACV,UAAI,OAAO,8BATM,mBAAmB,wCAST,GAAG,CAAC,CAAC;AAChC,UAAI,IAAI,GAAG,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,UAAC,CAAC;eAAK,CAAC,CAAC,QAAQ;OAAA,CAAC,GAAG,EAAE,CAAC;;AAEzD,UAAI,GAAG,CAAC,IAAI,EAAE;AACZ,YAAI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC;OAC1C;;;AAGD,aAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;KACrC;;;WAEO,kBAAC,KAAK,EAAE,IAAI,EAAE;;AAEpB,aAAO,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;KACvC;;;SAvBkB,mBAAmB;;;qBAAnB,mBAAmB","file":"constructor-injector.js","sourcesContent":["/**\n * Created by dmitriy.ryajov on 6/27/15.\n */\n\nimport Injector from '../injector';\n\n/**\n * This class will perform constructor injection, by instantiating\n * the passed in dependency and passing in its deps as constructor\n * arguments. Dependency is expected to be a constructor function,\n * or an ES6+ class.\n */\nexport default class ConstructorInjector extends Injector {\n\n  /**\n   * Inject the dependency by calling class Reflect.construct(dependency, arguments)\n   *\n   * @param dep\n   * @returns {*}\n   */\n  inject(dep) {\n    let allDeps = super.inject(dep);\n    let args = allDeps ? allDeps.map((d) => d.injected) : [];\n\n    if (dep.args) {\n      args = args.concat(dep.args) || dep.args;\n    }\n\n    // inject as constructor params\n    return this._newCall(dep.dep, args);\n  }\n\n  _newCall(Clazz, args) {\n    /*jshint -W058 */\n    return Reflect.construct(Clazz, args);\n  }\n}\n"]}